apply plugin: 'java'

repositories {
	mavenCentral()
}

dependencies {
	compile (
		'com.amazonaws:aws-lambda-java-core:1.1.0',
		'com.amazonaws:aws-java-sdk-s3:1.11.145',
		'com.amazonaws:aws-lambda-java-events:1.3.0',
		'com.amazonaws:aws-java-sdk-lambda:1.11.145',
		'com.amazonaws:aws-java-sdk-elastictranscoder:1.11.145'
	)
}

task buildZip(type: Zip) {
	from compileJava
 	from processResources
	into('lib') {
		from configurations.runtime
	}
}

task run(type:JavaExec) {
   classpath = sourceSets.main.runtimeClasspath
   main = 'mybot.Client'
}

build.dependsOn buildZip

defaultTasks 'buildZip'
